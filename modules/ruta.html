<!-- ============================================
     MÓDULO: RUTA PEDAGÓGICA (MALLA CURRICULAR)
     Contenido: Ciclos 0 a 5 (Detalle por periodos)
============================================= -->

<section class="ruta-header">
    <div class="content-container text-center">
        <h2>Una Estructura Progresiva</h2>
        <p class="subtitle">ECO no es una solución genérica. Es un currículo socioemocional robusto y coherente que acompaña al estudiante durante toda su vida escolar a través de 6 niveles progresivos.</p>
    </div>
</section>

<!-- NAVEGACIÓN DE CICLOS (TABS) -->
<section class="malla-container">
    <div class="malla-tabs">
        <button class="malla-tab active" onclick="openCiclo('c0')" style="border-bottom-color: #F39325;">
            <span class="cycle-num">CICLO 0</span>
            <span class="cycle-grade">Transición</span>
        </button>
        <button class="malla-tab" onclick="openCiclo('c1')" style="border-bottom-color: #E85D04;">
            <span class="cycle-num">CICLO 1</span>
            <span class="cycle-grade">1° a 3°</span>
        </button>
        <button class="malla-tab" onclick="openCiclo('c2')" style="border-bottom-color: #54BBAB;">
            <span class="cycle-num">CICLO 2</span>
            <span class="cycle-grade">4° y 5°</span>
        </button>
        <button class="malla-tab" onclick="openCiclo('c3')" style="border-bottom-color: #11678B;">
            <span class="cycle-num">CICLO 3</span>
            <span class="cycle-grade">6° y 7°</span>
        </button>
        <button class="malla-tab" onclick="openCiclo('c4')" style="border-bottom-color: #6A4C93;">
            <span class="cycle-num">CICLO 4</span>
            <span class="cycle-grade">8° y 9°</span>
        </button>
        <button class="malla-tab" onclick="openCiclo('c5')" style="border-bottom-color: #C8102E;">
            <span class="cycle-num">CICLO 5</span>
            <span class="cycle-grade">10° y 11°</span>
        </button>
    </div>

    <!-- ================= CONTENIDO CICLO 0 ================= -->
    <div id="c0" class="ciclo-content active fade-in">
        <div class="ciclo-header" style="background-color: #fff3e0;">
            <h3>CICLO 0: Prejardín y Transición</h3>
            <p><strong>Competencia Anual:</strong> Reconocimiento sensorial y emocional.</p>
        </div>
        <div class="periods-grid">
            <!-- Periodo 1 -->
            <div class="period-card">
                <div class="period-badge">Periodo 1</div>
                <h4>Reconozco lo que siento</h4>
                <p class="standard"><strong>Estándar:</strong> Identifico emociones básicas en momentos escolares cotidianos.</p>
                <ul class="skills-list">
                    <li>Identificación Emocional (Incluye Percepción).</li>
                    <li>Expresión Emocional Básica.</li>
                    <li>Vínculo y Confianza.</li>
                </ul>
            </div>
            <!-- Periodo 2 -->
            <div class="period-card">
                <div class="period-badge">Periodo 2</div>
                <h4>Me calmo y aprendo</h4>
                <p class="standard"><strong>Estándar:</strong> Me autorregulo en momentos de frustración escolar.</p>
                <ul class="skills-list">
                    <li>Conciencia de la Necesidad.</li>
                    <li>Aplicación de Estrategias (respiración, conteo).</li>
                    <li>Búsqueda de Apoyo.</li>
                </ul>
            </div>
            <!-- Periodo 3 -->
            <div class="period-card">
                <div class="period-badge">Periodo 3</div>
                <h4>Me relaciono con los demás</h4>
                <p class="standard"><strong>Estándar:</strong> Expreso emociones con respeto a compañeros y docentes.</p>
                <ul class="skills-list">
                    <li>Colaboración y Reciprocidad.</li>
                    <li>Regulación Social (Turnos).</li>
                    <li>Comunicación Respetuosa.</li>
                </ul>
            </div>
            <!-- Periodo 4 -->
            <div class="period-card">
                <div class="period-badge">Periodo 4</div>
                <h4>Resuelvo pequeños problemas</h4>
                <p class="standard"><strong>Estándar:</strong> Identifico, comunico y gestiono mis emociones básicas para mejorar mi convivencia.</p>
                <ul class="skills-list">
                    <li>Aproximación al Conflicto.</li>
                    <li>Estrategias de Negociación.</li>
                    <li>Búsqueda de Mediación.</li>
                </ul>
            </div>
        </div>
    </div>

    <!-- ================= CONTENIDO CICLO 1 ================= -->
    <div id="c1" class="ciclo-content fade-in" style="display:none;">
        <div class="ciclo-header" style="background-color: #ffe0b2;">
            <h3>CICLO 1: Grados 1°, 2° y 3°</h3>
            <p><strong>Competencia Anual:</strong> Regulación básica y expresión emocional.</p>
        </div>
        <div class="periods-grid">
            <div class="period-card">
                <div class="period-badge">Periodo 1</div>
                <h4>Identifico mis emociones en la escuela</h4>
                <p class="standard"><strong>Estándar:</strong> Desarrollo la conciencia emocional básica identificando y nombrando mis emociones.</p>
            </div>
            <div class="period-card">
                <div class="period-badge">Periodo 2</div>
                <h4>Me autorregulo en clases</h4>
                <p class="standard"><strong>Estándar:</strong> Aplico estrategias simples de autorregulación ante emociones desafiantes.</p>
            </div>
            <div class="period-card">
                <div class="period-badge">Periodo 3</div>
                <h4>Me expreso con respeto</h4>
                <p class="standard"><strong>Estándar:</strong> Expreso mis emociones con respeto usando palabras amables.</p>
            </div>
            <div class="period-card">
                <div class="period-badge">Periodo 4</div>
                <h4>Convivo con los demás en paz</h4>
                <p class="standard"><strong>Estándar:</strong> Expreso mis emociones solicitando ayuda o turnos de manera pacífica.</p>
            </div>
        </div>
    </div>

    <!-- ================= CONTENIDO CICLO 2 (4° y 5°) ================= -->
    <div id="c2" class="ciclo-content fade-in" style="display:none;">
        <div class="ciclo-header" style="background-color: #e0f2f1;">
            <h3>CICLO 2: Grados 4° y 5°</h3>
            <p><strong>Competencia Anual:</strong> Autonomía inicial y responsabilidad.</p>
        </div>
        <div class="periods-grid">
            <!-- P1 -->
            <div class="period-card">
                <div class="period-badge">Periodo 1</div>
                <h4>Tomo decisiones y asumo consecuencias</h4>
                <p class="standard"><strong>Estándar:</strong> Identifico y nombro emociones complejas (frustración, culpa, orgullo).</p>
                <ul class="skills-list">
                    <li>Reflexión Previa a la Decisión.</li>
                    <li>Asunción de Responsabilidad.</li>
                    <li>Aprendizaje a partir del Error.</li>
                </ul>
            </div>
            <!-- P2 -->
            <div class="period-card">
                <div class="period-badge">Periodo 2</div>
                <h4>Me cuido y respeto mi cuerpo</h4>
                <p class="standard"><strong>Estándar:</strong> Aplico estrategias de autorregulación ante emociones intensas.</p>
                <ul class="skills-list">
                    <li>Autocuidado e Higiene.</li>
                    <li>Establecimiento de Límites.</li>
                    <li>Respeto por la Integridad Ajena.</li>
                </ul>
            </div>
            <!-- P3 -->
            <div class="period-card">
                <div class="period-badge">Periodo 3</div>
                <h4>Afronto errores y me levanto</h4>
                <p class="standard"><strong>Estándar:</strong> Expreso emociones con responsabilidad, considerando impactos.</p>
                <ul class="skills-list">
                    <li>Perseverancia ante la Frustración.</li>
                    <li>Búsqueda Activa de Soluciones.</li>
                    <li>Autoeficacia y Confianza.</li>
                </ul>
            </div>
            <!-- P4 -->
            <div class="period-card">
                <div class="period-badge">Periodo 4</div>
                <h4>Decidimos juntos y respetamos acuerdos</h4>
                <p class="standard"><strong>Estándar:</strong> Gestiono mis emociones complejas con autonomía y responsabilidad.</p>
                <ul class="skills-list">
                    <li>Participación en Decisiones Colectivas.</li>
                    <li>Respeto y Cumplimiento de Acuerdos.</li>
                    <li>Cooperación e Inclusión.</li>
                </ul>
            </div>
        </div>
    </div>

    <!-- ================= CONTENIDO CICLO 3 (6° y 7°) ================= -->
    <div id="c3" class="ciclo-content fade-in" style="display:none;">
        <div class="ciclo-header" style="background-color: #e1f5fe;">
            <h3>CICLO 3: Grados 6° y 7°</h3>
            <p><strong>Competencia Anual:</strong> Identidad, empatía y convivencia.</p>
        </div>
        <div class="periods-grid">
            <div class="period-card">
                <div class="period-badge">Periodo 1</div>
                <h4>Descubro quien soy</h4>
                <p class="standard">Identifico empatía y sus señales en interacciones cotidianas.</p>
            </div>
            <div class="period-card">
                <div class="period-badge">Periodo 2</div>
                <h4>Convivo en la diversidad</h4>
                <p class="standard">Expreso empatía verbalmente ante emociones ajenas.</p>
            </div>
            <div class="period-card">
                <div class="period-badge">Periodo 3</div>
                <h4>Me cuido en el mundo digital</h4>
                <p class="standard">Regulo mi empatía para responder adecuadamente en grupo.</p>
            </div>
            <div class="period-card">
                <div class="period-badge">Periodo 4</div>
                <h4>Elijo con valentía</h4>
                <p class="standard">Identifico y activo mi empatía con autonomía ante presión de grupo.</p>
            </div>
        </div>
    </div>

    <!-- ================= CONTENIDO CICLO 4 (8° y 9°) ================= -->
    <div id="c4" class="ciclo-content fade-in" style="display:none;">
        <div class="ciclo-header" style="background-color: #f3e5f5;">
            <h3>CICLO 4: Grados 8° y 9°</h3>
            <p><strong>Competencia Anual:</strong> Proyecto personal, resiliencia y propósito de vida.</p>
        </div>
        <div class="periods-grid">
            <!-- P1 -->
            <div class="period-card">
                <div class="period-badge">Periodo 1</div>
                <h4>Planteo mis metas</h4>
                <p class="standard"><strong>Estándar:</strong> Identifico mis metas personales en contextos escolares específicos.</p>
                <ul class="skills-list">
                    <li>Definición de Metas.</li>
                    <li>Planificación Estratégica.</li>
                    <li>Compromiso y Esfuerzo.</li>
                </ul>
            </div>
            <!-- P2 -->
            <div class="period-card">
                <div class="period-badge">Periodo 2</div>
                <h4>Me levanto cuando caigo</h4>
                <p class="standard"><strong>Estándar:</strong> Planifico acciones autónomas para alcanzar mis metas.</p>
                <ul class="skills-list">
                    <li>Persistencia ante el Fracaso.</li>
                    <li>Aprendizaje y Reflexión.</li>
                    <li>Confianza en la Superación.</li>
                </ul>
            </div>
            <!-- P3 -->
            <div class="period-card">
                <div class="period-badge">Periodo 3</div>
                <h4>Rompo el silencio</h4>
                <p class="standard"><strong>Estándar:</strong> Resisto distracciones emocionales para cumplir mis metas.</p>
                <ul class="skills-list">
                    <li>Identificación de Conductas de Riesgo.</li>
                    <li>Intervención Prosocial y Denuncia.</li>
                    <li>Defensa del Respeto.</li>
                </ul>
            </div>
            <!-- P4 -->
            <div class="period-card">
                <div class="period-badge">Periodo 4</div>
                <h4>Equilibrio en el mundo digital</h4>
                <p class="standard"><strong>Estándar:</strong> Gestiono con autonomía mis proyectos personales y digitales.</p>
                <ul class="skills-list">
                    <li>Autorregulación del Tiempo Digital.</li>
                    <li>Uso Responsable de la Tecnología.</li>
                    <li>Equilibrio entre Actividades.</li>
                </ul>
            </div>
        </div>
    </div>

    <!-- ================= CONTENIDO CICLO 5 (10° y 11°) ================= -->
    <div id="c5" class="ciclo-content fade-in" style="display:none;">
        <div class="ciclo-header" style="background-color: #ffebee;">
            <h3>CICLO 5: Grados 10° y 11°</h3>
            <p><strong>Competencia Anual:</strong> Orientación vocacional y sentido de futuro.</p>
        </div>
        <div class="periods-grid">
            <div class="period-card">
                <div class="period-badge">Periodo 1</div>
                <h4>Exploro mis caminos</h4>
                <p class="standard">Identifico mis decisiones vocacionales en contextos reales.</p>
            </div>
            <div class="period-card">
                <div class="period-badge">Periodo 2</div>
                <h4>Planifico mi futuro</h4>
                <p class="standard">Planifico trayectorias vocacionales autónomas.</p>
            </div>
            <div class="period-card">
                <div class="period-badge">Periodo 3</div>
                <h4>Me preparo para los riesgos</h4>
                <p class="standard">Resisto presiones externas en mis decisiones vocacionales.</p>
            </div>
            <div class="period-card">
                <div class="period-badge">Periodo 4</div>
                <h4>Dejo mi huella</h4>
                <p class="standard">Gestiono con autonomía mi orientación vocacional y proyecto de vida.</p>
            </div>
        </div>
    </div>

</section>

<!-- ESTILOS ESPECÍFICOS PARA ESTE MÓDULO (Embedidos para fácil portabilidad) -->
<style>
    .ruta-header {
        padding: 2rem 20px;
        background-color: white;
    }
    
    .subtitle {
        max-width: 800px;
        margin: 0 auto;
        color: var(--color-text-light);
    }

    .malla-container {
        max-width: var(--container-width);
        margin: 0 auto;
        padding: 20px;
    }

    /* Pestañas */
    .malla-tabs {
        display: flex;
        overflow-x: auto;
        gap: 10px;
        padding-bottom: 10px;
        margin-bottom: 20px;
        scrollbar-width: thin;
    }

    .malla-tab {
        flex: 1;
        min-width: 120px;
        padding: 15px 10px;
        border: none;
        background: white;
        border-radius: 8px 8px 0 0;
        cursor: pointer;
        border-bottom: 5px solid #ccc; /* Color por defecto */
        transition: all 0.3s;
        box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        display: flex;
        flex-direction: column;
        align-items: center;
        text-align: center;
    }

    .malla-tab:hover {
        transform: translateY(-3px);
    }

    .malla-tab.active {
        background-color: #f9f9f9;
        font-weight: bold;
        box-shadow: inset 0 -2px 0 rgba(0,0,0,0.1);
    }

    .cycle-num {
        font-family: var(--font-heading);
        font-size: 1.2rem;
        color: var(--color-text-main);
    }

    .cycle-grade {
        font-size: 0.9rem;
        color: var(--color-text-light);
    }

    /* Contenido del Ciclo */
    .ciclo-header {
        padding: 1.5rem;
        border-radius: var(--border-radius-card);
        margin-bottom: 20px;
        text-align: center;
        border: 1px solid rgba(0,0,0,0.05);
    }

    .periods-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 20px;
    }

    .period-card {
        background: white;
        padding: 1.5rem;
        border-radius: var(--border-radius-card);
        box-shadow: var(--shadow-soft);
        border-top: 4px solid var(--color-eco-violet);
        transition: transform 0.3s;
    }

    .period-card:hover {
        transform: translateY(-5px);
        box-shadow: var(--shadow-hover);
    }

    .period-badge {
        display: inline-block;
        background: var(--color-eco-teal);
        color: white;
        padding: 2px 10px;
        border-radius: 20px;
        font-size: 0.8rem;
        margin-bottom: 10px;
        font-weight: bold;
    }

    .period-card h4 {
        color: var(--color-educate-blue);
        margin-bottom: 10px;
        font-size: 1.3rem;
        min-height: 3rem; /* Alineación */
    }

    .standard {
        font-size: 0.95rem;
        margin-bottom: 15px;
        color: #444;
    }

    .skills-list {
        list-style: disc;
        padding-left: 1.2rem;
        font-size: 0.9rem;
        color: #666;
    }

    .skills-list li {
        margin-bottom: 5px;
    }
</style>

<!-- LÓGICA DE PESTAÑAS (INLINE) -->
<script>
    function openCiclo(cicloId) {
        // 1. Ocultar todos los contenidos
        const contents = document.getElementsByClassName('ciclo-content');
        for (let i = 0; i < contents.length; i++) {
            contents[i].style.display = 'none';
        }

        // 2. Quitar clase active de todos los botones
        const tabs = document.getElementsByClassName('malla-tab');
        for (let i = 0; i < tabs.length; i++) {
            tabs[i].classList.remove('active');
        }

        // 3. Mostrar el seleccionado y activar botón (truco para encontrar el botón clickeado)
        document.getElementById(cicloId).style.display = 'block';
        event.currentTarget.classList.add('active');
    }
</script>
